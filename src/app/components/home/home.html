<div class="content text-center p-0 w-100 mb-auto mt-4">
  <!-- âœ… Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
  <div
    class="d-flex justify-content-center align-items-center flex-wrap gap-5 mt-0"
  >
    <!-- Ø²Ø±Ø§Ø± Ø§Ù„Ø¥Ø³ØªÙŠØ±Ø§Ø¯ -->
    <div class="text-center position-relative my-3">
      <button class="btn export-btn main-btn" (click)="showContainer('import')">
        Ø§Ù„Ø¥Ø³ØªÙŠØ±Ø§Ø¯
      </button>
      <i
        class="bi bi-caret-down-fill arrow-icon"
        *ngIf="activeContainer === 'import'"
      >
      </i>
    </div>

    <!-- Ø²Ø±Ø§Ø± Ø§Ù„Ù…Ø®Ø²ÙˆÙ† -->
    <div class="text-center position-relative my-3">
      <button class="btn stock-btn main-btn" (click)="showContainer('stock')">
        Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
      </button>
      <i
        class="bi bi-caret-down-fill arrow-icon"
        *ngIf="activeContainer === 'stock'"
      >
      </i>
    </div>
  </div>

  <!-- ðŸ“¦ Container Ù„Ù„Ù…Ø®Ø²ÙˆÙ† -->
  <div
    class="container my-4 text-end section-container"
    dir="rtl"
    *ngIf="activeContainer === 'stock'"
  >
    <!-- <h4 class="mb-3">ðŸ“¦ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</h4>
    <hr /> -->

    <!-- âœ… Ø¹Ø±Ø¶ Ø§Ù„Ø¯ÙˆÙ„ -->
    <div
      class="countries-grid d-flex flex-wrap justify-content-center gap-4 mt-4"
    >
      <div
        *ngFor="let country of countries"
        class="country-item text-center position-relative"
        (click)="selectCountry(country)"
      >
        <div
          class="country-circle overflow-hidden"
          [class.selected]="country.id === selectedCountryId"
        >
          <img
            [src]="country.img || 'assets/no-flag.png'"
            [alt]="country.name"
            class="country-img"
          />
        </div>
        <div class="country-name mt-2">
          {{ country.name }}
        </div>

        <!-- â¬‡ï¸ Ø§Ù„Ø³Ù‡Ù… ØªØ­Øª Ø§Ù„Ø¯ÙˆÙ„Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø© -->
        <i
          *ngIf="country.id === selectedCountryId"
          class="bi bi-caret-down-fill selected-arrow"
        ></i>
      </div>
    </div>

    <!-- ðŸš˜ Ø§Ù„Ø¨Ø±Ø§Ù†Ø¯Ø§Øª ØªØ­Øª Ø§Ù„Ø¯ÙˆÙ„Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø© -->
    <div
      *ngIf="selectedCountryId"
      class="brands-grid d-flex flex-wrap justify-content-center gap-4 mt-4"
    >
      <div
        *ngFor="let brand of brands"
        class="brand-item text-center"
        (click)="selectBrand(brand)"
      >
        <div class="brand-circle overflow-hidden">
          <img
            [src]="brand.Img || 'assets/no-car.png'"
            [alt]="brand.BrandName"
            class="brand-img"
          />
        </div>
        <div class="brand-name mt-2">{{ brand.BrandName }}</div>
      </div>
    </div>

    <!-- ðŸš« Ù„Ùˆ Ù…ÙÙŠØ´ Ø¨Ø±Ø§Ù†Ø¯Ø§Øª -->
    <div
      *ngIf="selectedCountryId && brands.length === 0"
      class="mt-4 text-muted d-flex flex-wrap justify-content-center"
    >
      Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø§Ø±ÙƒØ§Øª Ù…Ø³Ø¬Ù„Ø© Ù„Ù‡Ø°Ù‡ Ø§Ù„Ø¯ÙˆÙ„Ø© ðŸš˜
    </div>
  </div>

  <!-- ðŸš¢ Container Ù„Ù„Ø¥Ø³ØªÙŠØ±Ø§Ø¯ -->
  <div class="container mt-4 text-end section-container" dir="rtl" *ngIf="activeContainer === 'import'">

    <!-- Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø¥Ø³ØªÙŠØ±Ø§Ø¯ -->
    <div class="countries-grid d-flex flex-wrap justify-content-center gap-4 mt-4">
      <div *ngFor="let im of importTypes" class="country-item text-center position-relative"
           (click)="onSelectImportType(im.id)">
        <div class="country-circle overflow-hidden" [class.selected]="im.id === selectedImportType">
          <img [src]="im.img || 'assets/no-flag.png'" [alt]="im.name" class="country-img" />
        </div>
        <div class="country-name mt-2">{{ im.name }}</div>
        <i *ngIf="im.id === selectedImportType" class="bi bi-caret-down-fill selected-arrow"></i>
      </div>
    </div>

    <!-- Ø§Ù„Ø¯ÙˆÙ„ -->
    <div *ngIf="selectedImportType" class="countries-grid d-flex flex-wrap justify-content-center gap-4 mt-4">
      <div *ngFor="let country of filteredCountries" class="country-item text-center position-relative"
           (click)="selectImportCountry(country)">
        <div class="country-circle overflow-hidden" [class.selected]="country.Id === selectedCountryId">
          <img [src]="country.Img || 'assets/no-flag.png'" [alt]="country.CountryName" class="country-img" />
        </div>
        <div class="country-name mt-2">{{ country.CountryName }}</div>
        <i *ngIf="country.Id === selectedCountryId" class="bi bi-caret-down-fill selected-arrow"></i>
      </div>
    </div>

    <!-- Ø§Ù„Ø¨Ø±Ø§Ù†Ø¯Ø§Øª -->
    <div *ngIf="selectedCountryId && filteredBrands.length > 0" class="brands-grid d-flex flex-wrap justify-content-center gap-4 my-4">
      <div *ngFor="let brand of filteredBrands" class="brand-item text-center" (click)="selectImportBrand(brand)">
        <div class="brand-circle overflow-hidden">
          <img [src]="brand.Img || 'assets/no-car.png'" [alt]="brand.BrandName" class="brand-img" />
        </div>
        <div class="brand-name mt-2">{{ brand.BrandName }}</div>
      </div>
    </div>

  </div>
</div>



