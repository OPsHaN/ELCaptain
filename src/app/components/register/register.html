<div class="container py-1">
  <div class="row justify-content-center">
    <div class="col-12 col-lg-12 col-md-12 col-sm-12">
      <div class="card p-2 rounded-4">
        <h3 class="text-center mb-4 fw-bold text-dark">๐ ุชุณุฌูู ููุธู</h3>
        <form
          [formGroup]="registerForm"
          (ngSubmit)="onSubmit()"
          novalidate
          dir="rtl"
        >
          <div class="row g-3 text-end">
            <!-- ุงูุงุณู ุงูุฃูู -->
            <div class="col-md-4">
              <label class="form-label">ุงูุงุณู ุงูุฃูู</label>
              <input
                type="text"
                class="form-control custom-input"
                formControlName="FirstName"
              />
              <small
                class="text-danger"
                *ngIf="
                  registerForm.get('FirstName')?.touched &&
                  registerForm.get('FirstName')?.invalid
                "
              >
                ูุทููุจ
              </small>
            </div>

            <!-- ุงูุงุณู ุงูุซุงูู -->
            <div class="col-md-4">
              <label class="form-label">ุงูุงุณู ุงูุซุงูู</label>
              <input
                type="text"
                class="form-control custom-input"
                formControlName="SecondName"
              />
            </div>

            <div class="col-md-4">
              <label class="form-label">ุงูุฅุณู ุงูุซุงูุช</label>
              <input
                type="text"
                class="form-control custom-input"
                formControlName="ThirdName"
              />
              <small
                class="text-danger"
                *ngIf="
                  registerForm.get('ThirdName')?.touched &&
                  registerForm.get('ThirdName')?.invalid
                "
              >
                ูุทููุจ
              </small>
            </div>

            <!-- ุงูุชุตููู -->
            <div class="col-md-4">
              <label class="form-label">ุงูุฑุชุจุฉ</label>
              <mat-form-field appearance="outline" class="w-100 custom-outline">
                <mat-select formControlName="UserType">
                  <mat-option *ngFor="let rank of ranks" [value]="rank.code">
                    {{ rank.name }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </div>

            <!-- ุงูุฑูู ุงููููู -->
            <div class="col-md-4">
              <label class="form-label">ุงูุฑูู ุงููููู</label>
              <input
                type="number"
                class="form-control custom-input"
                formControlName="NationalId"
              />
              <small
                class="text-danger"
                *ngIf="
                  registerForm.get('NationalId')?.touched &&
                  registerForm.get('NationalId')?.invalid
                "
              >
                ูุฌุจ ุฃู ูููู 14 ุฑูู
              </small>
            </div>

            <!-- ุงุณู ุงููุณุชุฎุฏู -->
            <div class="col-md-4">
              <label class="form-label">ุงุณู ุงููุณุชุฎุฏู</label>
              <input
                type="text"
                class="form-control custom-input"
                formControlName="UserName"
              />
              <small
                class="text-danger"
                *ngIf="
                  registerForm.get('UserName')?.touched &&
                  registerForm.get('UserName')?.invalid
                "
              >
                ูุทููุจ
              </small>
            </div>

            <!-- ูููุฉ ุงููุฑูุฑ -->
            <div class="col-md-4">
              <label class="form-label">ูููุฉ ุงููุฑูุฑ</label>
              <input
                type="password"
                class="form-control custom-input"
                formControlName="Password"
              />
              <small
                class="text-danger"
                *ngIf="
                  registerForm.get('Password')?.touched &&
                  registerForm.get('Password')?.invalid
                "
              >
                ุงูุญุฏ ุงูุฃุฏูู 6 ุฃุญุฑู
              </small>
            </div>

            <!-- ุงูุจุฑูุฏ -->
            <div class="col-md-4">
              <label class="form-label">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
              <div class="input-group">
                <input
                  type="email"
                  class="form-control border-start-0 custom-input"
                  formControlName="Email"
                  placeholder="example@domain.com"
                />
              </div>

            </div>

            <!-- ุฑูู ุงููุงุชู -->
            <div class="col-md-4">
              <label class="form-label">ุฑูู ุงููุงุชู</label>
              <input
                type="text"
                class="form-control custom-input"
                formControlName="Phone"
              />
              <small
                class="text-danger"
                *ngIf="
                  registerForm.get('Phone')?.touched &&
                  registerForm.get('Phone')?.invalid
                "> </small>
            </div>

            <!-- ุฑูู ูุงุชู ุฅุถุงูู -->
            <div class="col-md-4">
              <label class="form-label">ุฑูู ูุงุชู ุฅุถุงูู</label>
              <input
                type="text"
                class="form-control custom-input"
                formControlName="Phone2"
              />
            </div>

            <!-- ุงููุฑุน -->
            <div class="col-md-4">
              <label class="form-label">ุงููุฑุน</label>
              <mat-form-field appearance="outline" class="w-100 custom-outline">
                <mat-select formControlName="BranchId">
                  <mat-option
                    *ngFor="let branch of branches"
                    [value]="branch.Id"
                  >
                    {{ branch.BranchName }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
              <small
                class="text-danger"
                *ngIf="
                  registerForm.get('BranchId')?.touched &&
                  registerForm.get('BranchId')?.invalid
                "> </small>
            </div>

            <!-- ุงูุชุตููู -->
            <div class="col-md-4">
              <label class="form-label">ุชุตููู ุงูููุธู</label>
              <mat-form-field appearance="outline" class="w-100 custom-outline">
                <mat-select formControlName="Classification">
                  <mat-option
                    *ngFor="let class of classification"
                    [value]="class.code"
                  >
                    {{ class.name }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
              <small
                class="text-danger"
                *ngIf="
                  registerForm.get('Classification')?.touched &&
                  registerForm.get('Classification')?.invalid
                "> </small>
            </div>

            <!-- ูู - ุฅูู -->
            <div class="col-md-4">
              <label class="form-label">ูู</label>
              <input
                type="time"
                class="form-control custom-input"
                formControlName="FromTime"
              />
            </div>

            <div class="col-md-4">
              <label class="form-label">ุฅูู</label>
              <input
                type="time"
                class="form-control custom-input"
                formControlName="ToTime"
              />
            </div>

            <div class="col-md-4">
              <label class="form-label">๐ธ ุตูุฑุฉ ุงูููุธู</label>
              <input
                type="file"
                accept="image/*"
                class="form-control"
                (change)="onFileSelected($event)"
              />

              <div class="mt-2 text-center" *ngIf="selectedImage">
                <img
                  [src]="selectedImage"
                  alt="ุตูุฑุฉ ุงูููุธู"
                  class="img-thumbnail rounded-circle"
                  style="width: 120px; height: 120px; object-fit: cover"
                />
              </div>
            </div>

            <!-- Checkbox ูุฃูุงู ุงูุฃุณุจูุน -->
            <div class="col-12 mt-3">
              <label class="form-label d-block mb-2 fw-bold">ุงูุฃูุงู</label>
              <div class="d-flex flex-wrap gap-1">
                <div
                  *ngFor="let day of daysOfWeek; let i = index"
                  class="form-check form-check-inline d-flex align-items-center gap-1"
                >
                  <!-- โ ุงูู Checkbox ุงูุฃูู -->
                  <input
                    type="checkbox"
                    class="form-check-input"
                    [formControl]="dayControls[i]"
                    [id]="day"
                  />

                  <!-- ๐ท๏ธ ุงุณู ุงูููู ุจุนุฏู -->
                  <label class="form-check-label mb-0 me-4" [for]="day">
                    {{ day }}
                  </label>
                </div>
              </div>
            </div>

            <!-- ุฒุฑ ุงูุชุณุฌูู -->
            <div class="col-12 text-center mt-3">
              <button
                class="btn btn-warning btn-lg py-0"
                [disabled]="isSubmitting"
              >
                {{ isSubmitting ? "ุฌุงุฑู ุงูุชุณุฌูู..." : "ุชุณุฌูู" }}
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
